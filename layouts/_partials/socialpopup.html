<div id="contact-popup" class="popup">
  <div class="popup-content">
    <span class="close" onclick="document.getElementById('contact-popup').style.display='none'">&times;</span>
    <h2>Contact Me</h2>
    <ul>
        <li>
            <a href="tel:+31653473195">
                <div class="contact-info">
                    <span>Call me</span>
                    <p>+31 653473195</p>
                </div>
            </a>
        </li>
        <li>
            <a href="https://outlook.office.com/bookwithme/user/7707e0a792da45c09c4ad255ec9e7fc8%40diractions.eu/meetingtype/1xCPAXDW9EyvUoRqSIpMDA2?anonymous&ismsaljsauthenabled=true">
                <div class="contact-info">
                    <span>Book a Meeting</span>
                    <p>Schedule a meeting with me</p>
                </div>
            </a>
        </li>
        <li>
            <a href="mailto:harald@diractions.eu">
                <div class="contact-info">
                    <span>Email</span>
                    <p>harald@diractions.eu</p>
                </div>
            </a>
        </li>
        <li>
            <a href="https://www.linkedin.com/in/haraldhagenaars">
                <div class="contact-info">
                    <span>LinkedIn</span>
                    <p>My LinkedIn profile</p>
                </div>
            </a>
        </li>
        <li>
            <a href="https://www.instagram.com/haraldhagenaars">
                <div class="contact-info">
                    <span>Instagram</span>
                    <p>My Instagram profile</p>
                </div>
            </a>
        </li>
        <li>
            <a href="https://github.com/diractions">
                <div class="contact-info">
                    <span>GitHub</span>
                    <p>Check out my code repositories</p>
                </div>
            </a>
        </li>
        <li>
            <a href="https://coff.ee/haraldhagenaars">
                <div class="contact-info">
                    <span>Buy Me A Coffee</span>
                    <p>Support my work if you find it helpful</p>
                </div>
            </a>
        </li>
    </ul>
  </div>
</div>

<script>
// Close the popup when the user clicks outside the popup content
// Add a click event listener that fires every time anywhere on the page is clicked
document.addEventListener('click', function(event) {
  const popup = document.getElementById('contact-popup');
  
  // Check if the popup exists and the user clicked on the backdrop itself
  if (popup && event.target === popup) {
    popup.style.display = 'none'; // Hide the popup
  }
});

// Close the popup when the user presses the Escape key
document.addEventListener('keydown', function(event) {
  if (event.key === 'Escape') {
    const popup = document.getElementById('contact-popup');
    if (popup) popup.style.display = 'none'; // Hide the popup
  }
});

/**
 * Opens the social popup dialog
 * Shows the popup by setting display to 'block'
 */
function openSocialPopup() {
  const popup = document.getElementById('contact-popup');
  if (popup) {
    popup.style.display = 'block'; // Show the popup
  }
}

function handleHash() {
  if (window.location.hash === '#popup') {
    openSocialPopup();
  }
}

// Listen for hash changes and page load
window.addEventListener('hashchange', handleHash);
window.addEventListener('DOMContentLoaded', handleHash);

// Prevent default link behavior for popup links and handle them manually
document.addEventListener('DOMContentLoaded', function() {
  // Find all links that point to #popup and handle them
  const popupLinks = document.querySelectorAll('a[href="#popup"]');
  
  popupLinks.forEach(link => {
    link.addEventListener('click', function(event) {
      event.preventDefault(); // Prevent default anchor behavior
      openSocialPopup();
      
      // Update the URL hash without triggering a scroll
      if (history.pushState) {
        history.pushState(null, null, '#popup');
      } else {
        window.location.hash = '#popup';
      }
    });
  });
});

</script>
